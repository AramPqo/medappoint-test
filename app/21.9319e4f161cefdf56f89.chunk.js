(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{224:function(c,e,n){n.r(e),n.d(e,"LogsModule",(function(){return k}));var t=n(0),l=n(7),r=n(59);class s{constructor(c,e){this.name=c,this.level=e}}var i=n(26),o=n(4);class a{constructor(c){this.http=c}changeLevel(c,e){return this.http.post(i.b+"management/loggers/"+c,{configuredLevel:e})}findAll(){return this.http.get(i.b+"management/loggers")}}a.ɵfac=function(c){return new(c||a)(t.sc(o.b))},a.ɵprov=t.ac({token:a,factory:a.ɵfac,providedIn:"root"});var g=n(1),b=n(10),u=n(3);function h(c,e){if(1&c){const c=t.lc();t.kc(0,"tr"),t.Zc(1,"\n            "),t.kc(2,"td"),t.kc(3,"small"),t.Zc(4),t.zc(5,"slice"),t.jc(),t.jc(),t.Zc(6,"\n            "),t.kc(7,"td"),t.Zc(8,"\n                "),t.kc(9,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"TRACE")})),t.Zc(10,"TRACE"),t.jc(),t.Zc(11,"\n                "),t.kc(12,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"DEBUG")})),t.Zc(13,"DEBUG"),t.jc(),t.Zc(14,"\n                "),t.kc(15,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"INFO")})),t.Zc(16,"INFO"),t.jc(),t.Zc(17,"\n                "),t.kc(18,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"WARN")})),t.Zc(19,"WARN"),t.jc(),t.Zc(20,"\n                "),t.kc(21,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"ERROR")})),t.Zc(22,"ERROR"),t.jc(),t.Zc(23,"\n                "),t.kc(24,"button",12),t.vc("click",(function(){t.Qc(c);const n=e.$implicit;return t.yc(2).changeLevel(n.name,"OFF")})),t.Zc(25,"OFF"),t.jc(),t.Zc(26,"\n            "),t.jc(),t.Zc(27,"\n        "),t.jc()}if(2&c){const c=e.$implicit;t.Rb(4),t.ad(t.Cc(5,7,c.name,0,140)),t.Rb(5),t.Fc("ngClass","TRACE"==c.level?"btn-primary":"btn-light"),t.Rb(3),t.Fc("ngClass","DEBUG"==c.level?"btn-success":"btn-light"),t.Rb(3),t.Fc("ngClass","INFO"==c.level?"btn-info":"btn-light"),t.Rb(3),t.Fc("ngClass","WARN"==c.level?"btn-warning":"btn-light"),t.Rb(3),t.Fc("ngClass","ERROR"==c.level?"btn-danger":"btn-light"),t.Rb(3),t.Fc("ngClass","OFF"==c.level?"btn-secondary":"btn-light")}}const d=function(c){return{total:c}};function v(c,e){if(1&c){const c=t.lc();t.kc(0,"div",1),t.Zc(1,"\n    "),t.kc(2,"h2",2),t.Zc(3,"Logs"),t.jc(),t.Zc(4,"\n\n    "),t.kc(5,"p",3),t.Zc(6),t.jc(),t.Zc(7,"\n\n    "),t.kc(8,"span",4),t.Zc(9,"Filter"),t.jc(),t.Zc(10," "),t.kc(11,"input",5),t.vc("ngModelChange",(function(e){t.Qc(c);return t.yc().filter=e})),t.jc(),t.Zc(12,"\n\n    "),t.kc(13,"table",6),t.Zc(14,"\n        "),t.kc(15,"thead"),t.Zc(16,"\n            "),t.kc(17,"tr",7),t.Zc(18,"\n                "),t.kc(19,"th",8),t.vc("click",(function(){t.Qc(c);const e=t.yc();return e.orderProp="name",e.reverse=!e.reverse})),t.kc(20,"span",9),t.Zc(21,"Name"),t.jc(),t.jc(),t.Zc(22,"\n                "),t.kc(23,"th",8),t.vc("click",(function(){t.Qc(c);const e=t.yc();return e.orderProp="level",e.reverse=!e.reverse})),t.kc(24,"span",10),t.Zc(25,"Level"),t.jc(),t.jc(),t.Zc(26,"\n            "),t.jc(),t.Zc(27,"\n        "),t.jc(),t.Zc(28,"\n\n        "),t.Xc(29,h,28,11,"tr",11),t.zc(30,"orderBy"),t.zc(31,"pureFilter"),t.Zc(32,"\n    "),t.jc(),t.Zc(33,"\n"),t.jc()}if(2&c){const c=t.yc();t.Rb(5),t.Fc("translateValues",t.Jc(12,d,c.loggers.length)),t.Rb(1),t.bd("There are ",c.loggers.length," loggers."),t.Rb(5),t.Fc("ngModel",c.filter),t.Rb(18),t.Fc("ngForOf",t.Cc(30,4,t.Cc(31,8,c.loggers,c.filter,"name"),c.orderProp,c.reverse))}}class p{constructor(c){this.logsService=c,this.filter="",this.orderProp="name",this.reverse=!1}ngOnInit(){this.findAndExtractLoggers()}changeLevel(c,e){this.logsService.changeLevel(c,e).subscribe(()=>this.findAndExtractLoggers())}findAndExtractLoggers(){this.logsService.findAll().subscribe(c=>this.loggers=Object.entries(c.loggers).map(c=>new s(c[0],c[1].effectiveLevel)))}}p.ɵfac=function(c){return new(c||p)(t.ec(a))},p.ɵcmp=t.Yb({type:p,selectors:[["jhi-logs"]],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["title","click to order"],["scope","col",3,"click"],["jhiTranslate","logs.table.name"],["jhiTranslate","logs.table.level"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(c,e){1&c&&(t.Xc(0,v,34,14,"div",0),t.Zc(1,"\n")),2&c&&t.Fc("ngIf",e.loggers)},directives:[g.o,b.n,u.c,u.n,u.q,g.n,g.m],pipes:[b.i,b.k,g.v],encapsulation:2});const f={path:"",component:p,data:{pageTitle:"logs.title"}};class k{}k.ɵmod=t.cc({type:k}),k.ɵinj=t.bc({factory:function(c){return new(c||k)},imports:[[r.a,l.h.forChild([f])]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.Tc(k,{declarations:[p],imports:[r.a,l.h]})}}]);