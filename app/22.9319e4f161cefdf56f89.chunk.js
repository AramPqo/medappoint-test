(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{227:function(t,c,e){e.r(c),e.d(c,"MetricsModule",(function(){return v}));var i=e(0),s=e(7),n=e(59),r=e(102),a=e(26),o=e(4);class d{constructor(t){this.http=t}getMetrics(){return this.http.get(a.b+"management/jhimetrics")}threadDump(){return this.http.get(a.b+"management/threaddump")}}d.ɵfac=function(t){return new(t||d)(i.sc(o.b))},d.ɵprov=i.ac({token:d,factory:d.ɵfac,providedIn:"root"});var u=e(10),m=e(28),g=e(1);function h(t,c){if(1&t&&(i.kc(0,"div",12),i.Zc(1,"\n        "),i.kc(2,"jhi-jvm-memory",13),i.Zc(3,"\n        "),i.jc(),i.Zc(4,"\n\n        "),i.kc(5,"jhi-jvm-threads",14),i.Zc(6,"\n        "),i.jc(),i.Zc(7,"\n\n        "),i.kc(8,"jhi-metrics-system",15),i.Zc(9,"\n        "),i.jc(),i.Zc(10,"\n    "),i.jc()),2&t){const t=i.yc();i.Rb(2),i.Fc("updating",t.updatingMetrics)("jvmMemoryMetrics",t.metrics.jvm),i.Rb(3),i.Fc("threadData",t.threads),i.Rb(3),i.Fc("updating",t.updatingMetrics)("systemMetrics",t.metrics.processMetrics)}}function p(t,c){if(1&t&&(i.kc(0,"div"),i.Zc(1,"\n        "),i.kc(2,"h3",16),i.Zc(3,"Garbage collector statistics"),i.jc(),i.Zc(4,"\n\n        "),i.kc(5,"jhi-metrics-garbagecollector",17),i.Zc(6,"\n        "),i.jc(),i.Zc(7,"\n    "),i.jc()),2&t){const t=i.yc();i.Rb(5),i.Fc("updating",t.updatingMetrics)("garbageCollectorMetrics",t.metrics.garbageCollector)}}function l(t,c){1&t&&(i.kc(0,"div",18),i.Zc(1,"Updating..."),i.jc())}function f(t,c){if(1&t&&(i.kc(0,"jhi-metrics-request",19),i.Zc(1,"\n    "),i.jc()),2&t){const t=i.yc();i.Fc("updating",t.updatingMetrics)("requestMetrics",t.metrics["http.server.requests"])}}function j(t,c){if(1&t&&(i.kc(0,"jhi-metrics-endpoints-requests",20),i.Zc(1,"\n    "),i.jc()),2&t){const t=i.yc();i.Fc("updating",t.updatingMetrics)("endpointsRequestsMetrics",t.metrics.services)}}function M(t,c){if(1&t&&(i.kc(0,"jhi-metrics-cache",21),i.Zc(1,"\n    "),i.jc()),2&t){const t=i.yc();i.Fc("updating",t.updatingMetrics)("cacheMetrics",t.metrics.cache)}}function Z(t,c){if(1&t&&(i.kc(0,"jhi-metrics-datasource",22),i.Zc(1,"\n    "),i.jc()),2&t){const t=i.yc();i.Fc("updating",t.updatingMetrics)("datasourceMetrics",t.metrics.databases)}}class b{constructor(t,c){this.metricsService=t,this.changeDetector=c,this.updatingMetrics=!0}ngOnInit(){this.refresh()}refresh(){this.updatingMetrics=!0,this.metricsService.getMetrics().pipe(Object(r.a)(()=>this.metricsService.threadDump(),(t,c)=>{this.metrics=t,this.threads=c.threads,this.updatingMetrics=!1,this.changeDetector.detectChanges()})).subscribe()}metricsKeyExists(t){return this.metrics&&this.metrics[t]}metricsKeyExistsAndObjectNotEmpty(t){return this.metrics&&this.metrics[t]&&"{}"!==JSON.stringify(this.metrics[t])}}b.ɵfac=function(t){return new(t||b)(i.ec(d),i.ec(i.j))},b.ɵcmp=i.Yb({type:b,selectors:[["jhi-metrics"]],decls:34,vars:7,consts:[["id","metrics-page-heading","jhiTranslate","metrics.title"],[1,"btn","btn-primary","float-right",3,"click"],["icon","sync"],["jhiTranslate","metrics.refresh.button"],["jhiTranslate","metrics.jvm.title"],["class","row",4,"ngIf"],[4,"ngIf"],["class","well well-lg","jhiTranslate","metrics.updating",4,"ngIf"],[3,"updating","requestMetrics",4,"ngIf"],[3,"updating","endpointsRequestsMetrics",4,"ngIf"],[3,"updating","cacheMetrics",4,"ngIf"],[3,"updating","datasourceMetrics",4,"ngIf"],[1,"row"],[1,"col-md-4",3,"updating","jvmMemoryMetrics"],[1,"col-md-4",3,"threadData"],[1,"col-md-4",3,"updating","systemMetrics"],["jhiTranslate","metrics.jvm.gc.title"],[3,"updating","garbageCollectorMetrics"],["jhiTranslate","metrics.updating",1,"well","well-lg"],[3,"updating","requestMetrics"],[3,"updating","endpointsRequestsMetrics"],[3,"updating","cacheMetrics"],[3,"updating","datasourceMetrics"]],template:function(t,c){1&t&&(i.kc(0,"div"),i.Zc(1,"\n    "),i.kc(2,"h2"),i.Zc(3,"\n        "),i.kc(4,"span",0),i.Zc(5,"Application Metrics"),i.jc(),i.Zc(6,"\n\n        "),i.kc(7,"button",1),i.vc("click",(function(){return c.refresh()})),i.Zc(8,"\n            "),i.fc(9,"fa-icon",2),i.Zc(10," "),i.kc(11,"span",3),i.Zc(12,"Refresh"),i.jc(),i.Zc(13,"\n        "),i.jc(),i.Zc(14,"\n    "),i.jc(),i.Zc(15,"\n\n    "),i.kc(16,"h3",4),i.Zc(17,"JVM Metrics"),i.jc(),i.Zc(18,"\n\n    "),i.Xc(19,h,11,5,"div",5),i.Zc(20,"\n\n    "),i.Xc(21,p,8,2,"div",6),i.Zc(22,"\n\n    "),i.Xc(23,l,2,0,"div",7),i.Zc(24,"\n\n    "),i.Xc(25,f,2,2,"jhi-metrics-request",8),i.Zc(26,"\n\n    "),i.Xc(27,j,2,2,"jhi-metrics-endpoints-requests",9),i.Zc(28,"\n\n    "),i.Xc(29,M,2,2,"jhi-metrics-cache",10),i.Zc(30,"\n\n    "),i.Xc(31,Z,2,2,"jhi-metrics-datasource",11),i.Zc(32,"\n"),i.jc(),i.Zc(33,"\n")),2&t&&(i.Rb(19),i.Fc("ngIf",c.metrics&&!c.updatingMetrics),i.Rb(2),i.Fc("ngIf",c.metrics&&c.metricsKeyExists("garbageCollector")),i.Rb(2),i.Fc("ngIf",c.updatingMetrics),i.Rb(2),i.Fc("ngIf",c.metrics&&c.metricsKeyExists("http.server.requests")),i.Rb(2),i.Fc("ngIf",c.metrics&&c.metricsKeyExists("services")),i.Rb(2),i.Fc("ngIf",c.metrics&&c.metricsKeyExists("cache")),i.Rb(2),i.Fc("ngIf",c.metrics&&c.metricsKeyExistsAndObjectNotEmpty("databases")))},directives:[u.n,m.a,g.o,u.r,u.s,u.x,u.y,u.t,u.u,u.v,u.w],encapsulation:2,changeDetection:0});const y={path:"",component:b,data:{pageTitle:"metrics.title"}};class v{}v.ɵmod=i.cc({type:v}),v.ɵinj=i.bc({factory:function(t){return new(t||v)},imports:[[n.a,s.h.forChild([y])]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i.Tc(v,{declarations:[b],imports:[n.a,s.h]})}}]);